import{p as B,m as M}from"./DXPJxXHF.js";import{_ as T,a as L,L as S,I as A,C as i,j as f,M as I,r as N,o as R,g as D,t as d,v as n,x as t,J as c,B as E,H as F,y as r,G as o,A as G,F as H}from"./D2HCay29.js";import{u}from"./B2XwIevP.js";const J={id:"event"},P={id:"header"},V={id:"author"},q={id:"author-image"},z=["src"],j={id:"author-name"},O={id:"date"},W={id:"content"},Z={key:0,id:"cover-container"},K=["src"],Q=["innerHTML"],U={key:0,id:"footer"},X={__name:"SinglePage",props:{category:{type:String,required:!0},authorLabel:{type:String,default:"Author:"}},async setup(_){let e,s;const{$hydra1:l,$showCanvas:k}=L(),m=S().params.id,h=_,p=A("title"),{data:w}=([e,s]=i(()=>u(`/api/${h.category}`,"$W42ExJ7GR8")),e=await e,s(),e),{data:x}=([e,s]=i(()=>u("/api/authors","$JcpTcobpZn")),e=await e,s(),e),{data:C}=([e,s]=i(()=>u(`/api/markdown?category=${h.category}&id=${m}`,"$wRvT7OS8qG")),e=await e,s(),e),a=f(()=>w.value[m]);I(a,g=>{g.image&&p.value.style.setProperty("border-top","1px solid transparent")});const $=f(()=>x.value[a.value.author]),v=N("");return R(()=>{v.value=B.sanitize(M(C.value)),k(),l.eval("osc(10, 0.1, 0.8).rotate(-Math.PI/2).color(-1, 1).out()"),document.getElementById("myCanvas").appendChild(l.canvas)}),(g,y)=>{const b=D("router-link");return n(),d(H,null,[y[0]||(y[0]=t("div",{id:"news-bg"},[t("div",{id:"myCanvas"}),t("div",{id:"overlay"})],-1)),t("div",J,[t("div",P,[t("div",V,[E(r(_.authorLabel)+" ",1),o(a)?(n(),F(b,{key:0,to:{name:"authors-author",params:{author:o(a).author}}},{default:G(()=>[t("div",q,[t("img",{src:`/images/authors/${o($).image}`,alt:""},null,8,z)]),t("div",j,r(o(a).author),1)]),_:1},8,["to"])):c("",!0)]),t("div",O,r(o(a).date),1)]),t("div",W,["image"in o(a)?(n(),d("div",Z,[t("img",{id:"cover",src:`/images/${o(a).image}.png`,alt:""},null,8,K)])):c("",!0),t("h1",{ref_key:"title",ref:p},r(o(a).title),513),t("div",{id:"markdown",innerHTML:o(v)},null,8,Q)]),"tags"in o(a)?(n(),d("div",U,r(o(a).tags),1)):c("",!0)])],64)}}},at=T(X,[["__scopeId","data-v-b51e5e59"]]);export{at as _};

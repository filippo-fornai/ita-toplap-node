import{_ as L,a as B,K as T,I as M,C as d,j as f,L as S,r as A,o as I,g as N,t as u,v as r,x as t,J as c,B as D,H as E,y as i,G as e,A as F,m as C,F as G}from"./DJW1cO_3.js";import{p as H,m as J}from"./DXPJxXHF.js";import{u as m}from"./DFf1lCeD.js";const P={id:"event"},V={id:"header"},q={id:"author"},z={id:"author-image"},U=["src"],j={id:"author-name"},K={id:"date"},O={id:"content"},W={key:0,id:"cover-container"},Z=["src"],Q=["innerHTML"],X={key:0,id:"footer"},Y={__name:"SinglePage",props:{category:{type:String,required:!0},authorLabel:{type:String,default:"Author:"}},async setup(l){let a,s;const{$hydra1:p,$showCanvas:k}=B(),_=T().params.id,h=l,v=M("title"),{data:w}=([a,s]=d(()=>m(`/api/${h.category}`,"$W42ExJ7GR8")),a=await a,s(),a),{data:$}=([a,s]=d(()=>m("/api/authors","$JcpTcobpZn")),a=await a,s(),a),{data:R}=([a,s]=d(()=>m(`/api/markdown?category=${h.category}&id=${_}`,"$wRvT7OS8qG")),a=await a,s(),a),o=f(()=>w.value[_]);S(o,n=>{n.image&&v.value.style.setProperty("border-top","1px solid transparent")});const b=f(()=>$.value[o.value.author]),g=A("");return I(()=>{g.value=H.sanitize(J(R.value)),k(),p.eval("osc(10, 0.1, 0.8).rotate(-Math.PI/2).color(-1, 1).out()"),document.getElementById("myCanvas").appendChild(p.canvas)}),(n,y)=>{const x=N("router-link");return r(),u(G,null,[y[0]||(y[0]=t("div",{id:"news-bg"},[t("div",{id:"myCanvas"}),t("div",{id:"overlay"})],-1)),t("div",P,[t("div",V,[t("div",q,[D(i(l.authorLabel)+" ",1),e(o)?(r(),E(x,{key:0,to:{name:"authors-author",params:{author:e(o).author}}},{default:F(()=>[t("div",z,[t("img",{src:`${("useRuntimeConfig"in n?n.useRuntimeConfig:e(C))().app.baseURL}images/authors/${e(b).image}`,alt:""},null,8,U)]),t("div",j,i(e(o).author),1)]),_:1},8,["to"])):c("",!0)]),t("div",K,i(e(o).date),1)]),t("div",O,["image"in e(o)?(r(),u("div",W,[t("img",{id:"cover",src:`${("useRuntimeConfig"in n?n.useRuntimeConfig:e(C))().app.baseURL}images/${e(o).image}.png`,alt:""},null,8,Z)])):c("",!0),t("h1",{ref_key:"title",ref:v},i(e(o).title),513),t("div",{id:"markdown",innerHTML:e(g)},null,8,Q)]),"tags"in e(o)?(r(),u("div",X,i(e(o).tags),1)):c("",!0)])],64)}}},ot=L(Y,[["__scopeId","data-v-747bc81c"]]);export{ot as _};

import{_ as B,a as L,K as T,I as M,C as u,j as f,r as S,o as A,g as I,t as c,v as n,x as e,J as l,B as N,H as P,y as i,G as t,A as D,m as C,F as E}from"./D2QMpIAr.js";import{p as F,m as G}from"./DXPJxXHF.js";import{u as m}from"./1zgirwCW.js";const H={id:"event"},J={id:"header"},V={id:"author"},q={id:"author-image"},z=["src"],U={id:"author-name"},j={id:"date"},K={id:"content"},O={key:0,id:"cover-container"},W=["src"],Z=["innerHTML"],Q={key:0,id:"footer"},X={__name:"SinglePage",props:{category:{type:String,required:!0},authorLabel:{type:String,default:"Author:"}},async setup(p){let a,s;const{$hydra1:_,$showCanvas:k}=L(),h=T().params.id,g=p,d=M("title"),{data:w}=([a,s]=u(()=>m(`/api/${g.category}`,"$W42ExJ7GR8")),a=await a,s(),a),{data:$}=([a,s]=u(()=>m("/api/authors","$JcpTcobpZn")),a=await a,s(),a),{data:R}=([a,s]=u(()=>m(`/api/markdown?category=${g.category}&id=${h}`,"$wRvT7OS8qG")),a=await a,s(),a),o=f(()=>w.value[h]),b=f(()=>$.value[o.value.author]),v=S("");return A(()=>{o.value.image&&(console.log(o.image),d.value.style.setProperty("border-right","1px solid grey"),d.value.style.setProperty("border-left","1px solid grey")),v.value=F.sanitize(G(R.value)),k(),_.eval("osc(10, 0.1, 0.8).rotate(-Math.PI/2).color(-1, 1).out()"),document.getElementById("myCanvas").appendChild(_.canvas)}),(r,y)=>{const x=I("router-link");return n(),c(E,null,[y[0]||(y[0]=e("div",{id:"news-bg"},[e("div",{id:"myCanvas"}),e("div",{id:"overlay"})],-1)),e("div",H,[e("div",J,[e("div",V,[N(i(p.authorLabel)+" ",1),t(o)?(n(),P(x,{key:0,to:{name:"authors-author",params:{author:t(o).author}}},{default:D(()=>[e("div",q,[e("img",{src:`${("useRuntimeConfig"in r?r.useRuntimeConfig:t(C))().app.baseURL}images/authors/${t(b).image}`,alt:""},null,8,z)]),e("div",U,i(t(o).author),1)]),_:1},8,["to"])):l("",!0)]),e("div",j,i(t(o).date),1)]),e("div",K,["image"in t(o)?(n(),c("div",O,[e("img",{id:"cover",src:`${("useRuntimeConfig"in r?r.useRuntimeConfig:t(C))().app.baseURL}images/${t(o).image}.png`,alt:""},null,8,W)])):l("",!0),e("h1",{ref_key:"title",ref:d},i(t(o).title),513),e("div",{id:"markdown",innerHTML:t(v)},null,8,Z)]),"tags"in t(o)?(n(),c("div",Q,i(t(o).tags),1)):l("",!0)])],64)}}},ae=B(X,[["__scopeId","data-v-12cdd88f"]]);export{ae as _};
